import{v as Oo,d as Wr,r as Z,o as Do,a as Mo,c as jt,w as Ft,aq as xo,y as ee,J as ae,N as U,B as Ro,D as ko,ar as jo,as as Fo,x as Vo,_ as Uo,G as Io,f as E,C as N,O as ve,z as dt,L as ye,F as Tr,M as Pr,Q as ft,E as Er,K as Bo}from"./index.d76d729d.js";import{Q as pt}from"./QInput.256b5391.js";import{Q as Le}from"./QBtnDropdown.f3e529f4.js";import{e as Wo,c as Vt,f as Ho}from"./PrimaryButton.ed2de242.js";import{Q as Me,a as Ar}from"./QTable.d3ac5408.js";import{w as Or,Q as zo}from"./QTooltip.e068c045.js";import{u as qo,Q as Lo}from"./use-quasar.8b1fb4cd.js";import{a as No,b as Dr}from"./QPage.90f527e3.js";import{Q as Qo}from"./QSpinnerDots.a9a067c5.js";import{u as Go}from"./data-api-store.96a98ce2.js";import{api as Yo}from"./axios.d5763ff0.js";const Is={},Jo=Oo("viewStore",{state:()=>({data:null}),getters:{getView(r){return r.data}},actions:{setView(r){this.data=r},clearView(){this.data=null}}});var Hr=(r,o,a)=>{if(!o.has(r))throw TypeError("Cannot "+a)},Mr=(r,o,a)=>(Hr(r,o,"read from private field"),a?a.call(r):o.get(r)),Ko=(r,o,a)=>{if(o.has(r))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(r):o.set(r,a)},Xo=(r,o,a,c)=>(Hr(r,o,"write to private field"),c?c.call(r,a):o.set(r,a),a);const xr=["aztec","code_128","code_39","code_93","codabar","data_matrix","ean_13","ean_8","itf","pdf417","qr_code","upc_a","upc_e","unknown"];function Zo(r){if(zr(r))return{width:r.naturalWidth,height:r.naturalHeight};if(qr(r))return{width:r.width.baseVal.value,height:r.height.baseVal.value};if(Lr(r))return{width:r.videoWidth,height:r.videoHeight};if(Qr(r))return{width:r.width,height:r.height};if(Yr(r))return{width:r.displayWidth,height:r.displayHeight};if(Nr(r))return{width:r.width,height:r.height};if(Gr(r))return{width:r.width,height:r.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function zr(r){try{return r instanceof HTMLImageElement}catch{return!1}}function qr(r){try{return r instanceof SVGImageElement}catch{return!1}}function Lr(r){try{return r instanceof HTMLVideoElement}catch{return!1}}function Nr(r){try{return r instanceof HTMLCanvasElement}catch{return!1}}function Qr(r){try{return r instanceof ImageBitmap}catch{return!1}}function Gr(r){try{return r instanceof OffscreenCanvas}catch{return!1}}function Yr(r){try{return r instanceof VideoFrame}catch{return!1}}function Jr(r){try{return r instanceof Blob}catch{return!1}}function ei(r){try{return r instanceof ImageData}catch{return!1}}function ti(r,o){try{const a=new OffscreenCanvas(r,o);if(a.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return a;throw void 0}catch{const c=document.createElement("canvas");return c.width=r,c.height=o,c}}async function Kr(r){if(zr(r)&&!await oi(r))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(qr(r)&&!await ii(r))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(Yr(r)&&si(r))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(Lr(r)&&(r.readyState===0||r.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(Qr(r)&&ci(r))throw new DOMException("The image source is detached.","InvalidStateError");const{width:o,height:a}=Zo(r);if(o===0||a===0)return null;const c=ti(o,a).getContext("2d");c.drawImage(r,0,0);try{return c.getImageData(0,0,o,a)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function ri(r){let o;try{if(createImageBitmap)o=await createImageBitmap(r);else if(Image){o=new Image;let a="";try{a=URL.createObjectURL(r),o.src=a,await o.decode()}finally{URL.revokeObjectURL(a)}}else return r}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await Kr(o)}function ni(r){const{width:o,height:a}=r;if(o===0||a===0)return null;const c=r.getContext("2d");try{return c.getImageData(0,0,o,a)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function ai(r){if(Jr(r))return await ri(r);if(ei(r)){if(li(r))throw new DOMException("The image data has been detached.","InvalidStateError");return r}return Nr(r)||Gr(r)?ni(r):await Kr(r)}async function oi(r){try{return await r.decode(),!0}catch{return!1}}async function ii(r){var o;try{return await((o=r.decode)==null?void 0:o.call(r)),!0}catch{return!1}}function si(r){return r.format===null}function li(r){return r.data.buffer.byteLength===0}function ci(r){return r.width===0&&r.height===0}function Rr(r,o){return r instanceof DOMException?new DOMException(`${o}: ${r.message}`,r.name):r instanceof Error?new r.constructor(`${o}: ${r.message}`):new Error(`${o}: ${r}`)}const kr=r=>{let o;const a=new Set,c=(y,v)=>{const p=typeof y=="function"?y(o):y;if(!Object.is(p,o)){const g=o;o=(v!=null?v:typeof p!="object")?p:Object.assign({},o,p),a.forEach(_=>_(o,g))}},f=()=>o,m={setState:c,getState:f,subscribe:y=>(a.add(y),()=>a.delete(y)),destroy:()=>{a.clear()}};return o=r(c,f,m),m},ui=r=>r?kr(r):kr,di={locateFile:(r,o)=>{var a;const c=(a=r.match(/_(.+?)\.wasm$/))==null?void 0:a[1];return c?`https://fastly.jsdelivr.net/npm/@sec-ant/zxing-wasm@2.1.5/dist/${c}/${r}`:o+r}},xe=ui()(()=>({zxingModuleWeakMap:new WeakMap,zxingModuleOverrides:di}));function Wt(r,o=xe.getState().zxingModuleOverrides){const{zxingModuleWeakMap:a}=xe.getState(),c=a.get(r);if(c&&Object.is(o,xe.getState().zxingModuleOverrides))return c;{xe.setState({zxingModuleOverrides:o});const f=r(o);return a.set(r,f),f}}const jr=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","UPC-A","UPC-E"],re={tryHarder:!0,formats:[],maxSymbols:255};async function fi(r,{tryHarder:o=re.tryHarder,formats:a=re.formats,maxSymbols:c=re.maxSymbols}=re,f){const m=await Wt(f,xe.getState().zxingModuleOverrides),{size:y}=r,v=new Uint8Array(await r.arrayBuffer()),p=m._malloc(y);m.HEAP8.set(v,p);const g=m.readBarcodesFromImage(p,y,o,Xr(a),c);m._free(p);const _=[];for(let C=0;C<g.size();++C){const j=g.get(C);_.push({...j,format:Zr(j.format)})}return _}async function pi(r,{tryHarder:o=re.tryHarder,formats:a=re.formats,maxSymbols:c=re.maxSymbols}=re,f){const m=await Wt(f,xe.getState().zxingModuleOverrides),{data:y,width:v,height:p,data:{byteLength:g}}=r,_=m._malloc(g);m.HEAP8.set(y,_);const C=m.readBarcodesFromPixmap(_,v,p,o,Xr(a),c);m._free(_);const j=[];for(let O=0;O<C.size();++O){const A=C.get(O);j.push({...A,format:Zr(A.format)})}return j}function Xr(r){return r.join("|")}function Zr(r){const o=Fr(r);let a=0,c=jr.length-1;for(;a<=c;){const f=Math.floor((a+c)/2),m=jr[f],y=Fr(m);if(y===o)return m;y<o?a=f+1:c=f-1}return"None"}function Fr(r){return r.toLowerCase().replace(/_-\[\]/g,"")}var Ht=(()=>{var r=Is.url;return function(o={}){var a=o,c,f;a.ready=new Promise((e,t)=>{c=e,f=t});var m=Object.assign({},a),y="./this.program",v=typeof window=="object",p=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var g="";function _(e){return a.locateFile?a.locateFile(e,g):g+e}var C;(v||p)&&(p?g=self.location.href:typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),r&&(g=r),g.indexOf("blob:")!==0?g=g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):g="",p&&(C=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),a.print||console.log.bind(console);var j=a.printErr||console.error.bind(console);Object.assign(a,m),m=null,a.arguments&&a.arguments,a.thisProgram&&(y=a.thisProgram),a.quit&&a.quit;var O;a.wasmBinary&&(O=a.wasmBinary),a.noExitRuntime,typeof WebAssembly!="object"&&Ae("no native wasm support detected");var A,B=!1,q,D,W,Y,Q,I,Pe,Ee;function je(){var e=A.buffer;a.HEAP8=q=new Int8Array(e),a.HEAP16=W=new Int16Array(e),a.HEAPU8=D=new Uint8Array(e),a.HEAPU16=Y=new Uint16Array(e),a.HEAP32=Q=new Int32Array(e),a.HEAPU32=I=new Uint32Array(e),a.HEAPF32=Pe=new Float32Array(e),a.HEAPF64=Ee=new Float64Array(e)}var Fe=[],Ve=[],Qe=[];function vt(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Ue(a.preRun.shift());_t(Fe)}function yt(){_t(Ve)}function gt(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)wt(a.postRun.shift());_t(Qe)}function Ue(e){Fe.unshift(e)}function Ge(e){Ve.unshift(e)}function wt(e){Qe.unshift(e)}var ue=0,oe=null;function le(e){ue++,a.monitorRunDependencies&&a.monitorRunDependencies(ue)}function bt(e){if(ue--,a.monitorRunDependencies&&a.monitorRunDependencies(ue),ue==0&&oe){var t=oe;oe=null,t()}}function Ae(e){a.onAbort&&a.onAbort(e),e="Aborted("+e+")",j(e),B=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw f(t),t}var Ct="data:application/octet-stream;base64,";function Ye(e){return e.startsWith(Ct)}var de;a.locateFile?(de="zxing_reader.wasm",Ye(de)||(de=_(de))):de=new URL("/reader/zxing_reader.wasm",self.location).href;function Je(e){if(e==de&&O)return new Uint8Array(O);if(C)return C(e);throw"both async and sync fetching of the wasm failed"}function mn(e){return!O&&(v||p)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>Je(e)):Promise.resolve().then(()=>Je(e))}function zt(e,t,n){return mn(e).then(i=>WebAssembly.instantiate(i,t)).then(i=>i).then(n,i=>{j(`failed to asynchronously prepare wasm: ${i}`),Ae(i)})}function vn(e,t,n,i){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!Ye(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(s=>{var l=WebAssembly.instantiateStreaming(s,n);return l.then(i,function(u){return j(`wasm streaming compile failed: ${u}`),j("falling back to ArrayBuffer instantiation"),zt(t,n,i)})}):zt(t,n,i)}function yn(){var e={a:Ya};function t(i,s){return L=i.exports,A=L.qa,je(),nr=L.ua,Ge(L.ra),bt(),L}le();function n(i){t(i.instance)}if(a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(i){j(`Module.instantiateWasm callback failed with error: ${i}`),f(i)}return vn(O,de,e,n).catch(f),{}}var _t=e=>{for(;e.length>0;)e.shift()(a)},Ke=[],Xe=0,gn=e=>{var t=new Ze(e);return t.get_caught()||(t.set_caught(!0),Xe--),t.set_rethrown(!1),Ke.push(t),wr(t.excPtr),t.get_exception_ptr()},fe=0,wn=()=>{M(0,0);var e=Ke.pop();gr(e.excPtr),fe=0};function Ze(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(t){I[this.ptr+4>>2]=t},this.get_type=function(){return I[this.ptr+4>>2]},this.set_destructor=function(t){I[this.ptr+8>>2]=t},this.get_destructor=function(){return I[this.ptr+8>>2]},this.set_caught=function(t){t=t?1:0,q[this.ptr+12>>0]=t},this.get_caught=function(){return q[this.ptr+12>>0]!=0},this.set_rethrown=function(t){t=t?1:0,q[this.ptr+13>>0]=t},this.get_rethrown=function(){return q[this.ptr+13>>0]!=0},this.init=function(t,n){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(n)},this.set_adjusted_ptr=function(t){I[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return I[this.ptr+16>>2]},this.get_exception_ptr=function(){var t=Cr(this.get_type());if(t)return I[this.excPtr>>2];var n=this.get_adjusted_ptr();return n!==0?n:this.excPtr}}var bn=e=>{throw fe||(fe=e),fe},St=e=>{var t=fe;if(!t)return qe(0),0;var n=new Ze(t);n.set_adjusted_ptr(t);var i=n.get_type();if(!i)return qe(0),t;for(var s in e){var l=e[s];if(l===0||l===i)break;var u=n.ptr+16;if(br(l,i,u))return qe(l),t}return qe(i),t},Cn=()=>St([]),_n=e=>St([e]),Sn=(e,t)=>St([e,t]),$n=e=>{var t=new Ze(e).get_exception_ptr();return t},Tn=()=>{var e=Ke.pop();e||Ae("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(Ke.push(e),e.set_rethrown(!0),e.set_caught(!1),Xe++),fe=t,fe},Pn=(e,t,n)=>{var i=new Ze(e);throw i.init(t,n),fe=e,Xe++,fe},En=()=>Xe,et={},qt=e=>{for(;e.length;){var t=e.pop(),n=e.pop();n(t)}};function $t(e){return this.fromWireType(Q[e>>2])}var Oe={},Se={},tt={},Lt,rt=e=>{throw new Lt(e)},$e=(e,t,n)=>{e.forEach(function(d){tt[d]=t});function i(d){var h=n(d);h.length!==e.length&&rt("Mismatched type converter count");for(var w=0;w<e.length;++w)pe(e[w],h[w])}var s=new Array(t.length),l=[],u=0;t.forEach((d,h)=>{Se.hasOwnProperty(d)?s[h]=Se[d]:(l.push(d),Oe.hasOwnProperty(d)||(Oe[d]=[]),Oe[d].push(()=>{s[h]=Se[d],++u,u===l.length&&i(s)}))}),l.length===0&&i(s)},An=e=>{var t=et[e];delete et[e];var n=t.rawConstructor,i=t.rawDestructor,s=t.fields,l=s.map(u=>u.getterReturnType).concat(s.map(u=>u.setterArgumentType));$e([e],l,u=>{var d={};return s.forEach((h,w)=>{var S=h.fieldName,T=u[w],P=h.getter,k=h.getterContext,H=u[w+s.length],K=h.setter,z=h.setterContext;d[S]={read:X=>T.fromWireType(P(k,X)),write:(X,b)=>{var $=[];K(z,X,H.toWireType($,b)),qt($)}}}),[{name:t.name,fromWireType:h=>{var w={};for(var S in d)w[S]=d[S].read(h);return i(h),w},toWireType:(h,w)=>{for(var S in d)if(!(S in w))throw new TypeError(`Missing field: "${S}"`);var T=n();for(S in d)d[S].write(T,w[S]);return h!==null&&h.push(i,T),T},argPackAdvance:he,readValueFromPointer:$t,destructorFunction:i}]})},On=(e,t,n,i,s)=>{},Dn=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Nt=e},Nt,te=e=>{for(var t="",n=e;D[n];)t+=Nt[D[n++]];return t},De,F=e=>{throw new De(e)};function Mn(e,t,n={}){var i=t.name;if(e||F(`type "${i}" must have a positive integer typeid pointer`),Se.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;F(`Cannot register type '${i}' twice`)}if(Se[e]=t,delete tt[e],Oe.hasOwnProperty(e)){var s=Oe[e];delete Oe[e],s.forEach(l=>l())}}function pe(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Mn(e,t,n)}var he=8,xn=(e,t,n,i)=>{t=te(t),pe(e,{name:t,fromWireType:function(s){return!!s},toWireType:function(s,l){return l?n:i},argPackAdvance:he,readValueFromPointer:function(s){return this.fromWireType(D[s])},destructorFunction:null})},Rn=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),Tt=e=>{function t(n){return n.$$.ptrType.registeredClass.name}F(t(e)+" instance already deleted")},Pt=!1,Qt=e=>{},kn=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},Gt=e=>{e.count.value-=1;var t=e.count.value===0;t&&kn(e)},Yt=(e,t,n)=>{if(t===n)return e;if(n.baseClass===void 0)return null;var i=Yt(e,t,n.baseClass);return i===null?null:n.downcast(i)},Jt={},jn=()=>Object.keys(We).length,Fn=()=>{var e=[];for(var t in We)We.hasOwnProperty(t)&&e.push(We[t]);return e},Ie=[],Et=()=>{for(;Ie.length;){var e=Ie.pop();e.$$.deleteScheduled=!1,e.delete()}},Be,Vn=e=>{Be=e,Ie.length&&Be&&Be(Et)},Un=()=>{a.getInheritedInstanceCount=jn,a.getLiveInheritedInstances=Fn,a.flushPendingDeletes=Et,a.setDelayFunction=Vn},We={},In=(e,t)=>{for(t===void 0&&F("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},Bn=(e,t)=>(t=In(e,t),We[t]),nt=(e,t)=>{(!t.ptrType||!t.ptr)&&rt("makeClassHandle requires ptr and ptrType");var n=!!t.smartPtrType,i=!!t.smartPtr;return n!==i&&rt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},He(Object.create(e,{$$:{value:t}}))};function Wn(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var n=Bn(this.registeredClass,t);if(n!==void 0){if(n.$$.count.value===0)return n.$$.ptr=t,n.$$.smartPtr=e,n.clone();var i=n.clone();return this.destructor(e),i}function s(){return this.isSmartPointer?nt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):nt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var l=this.registeredClass.getActualType(t),u=Jt[l];if(!u)return s.call(this);var d;this.isConst?d=u.constPointerType:d=u.pointerType;var h=Yt(t,this.registeredClass,d.registeredClass);return h===null?s.call(this):this.isSmartPointer?nt(d.registeredClass.instancePrototype,{ptrType:d,ptr:h,smartPtrType:this,smartPtr:e}):nt(d.registeredClass.instancePrototype,{ptrType:d,ptr:h})}var He=e=>typeof FinalizationRegistry>"u"?(He=t=>t,e):(Pt=new FinalizationRegistry(t=>{Gt(t.$$)}),He=t=>{var n=t.$$,i=!!n.smartPtr;if(i){var s={$$:n};Pt.register(t,s,t)}return t},Qt=t=>Pt.unregister(t),He(e)),Hn=()=>{Object.assign(at.prototype,{isAliasOf(e){if(!(this instanceof at)||!(e instanceof at))return!1;var t=this.$$.ptrType.registeredClass,n=this.$$.ptr;e.$$=e.$$;for(var i=e.$$.ptrType.registeredClass,s=e.$$.ptr;t.baseClass;)n=t.upcast(n),t=t.baseClass;for(;i.baseClass;)s=i.upcast(s),i=i.baseClass;return t===i&&n===s},clone(){if(this.$$.ptr||Tt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=He(Object.create(Object.getPrototypeOf(this),{$$:{value:Rn(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||Tt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&F("Object already scheduled for deletion"),Qt(this),Gt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Tt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&F("Object already scheduled for deletion"),Ie.push(this),Ie.length===1&&Be&&Be(Et),this.$$.deleteScheduled=!0,this}})};function at(){}var zn=48,qn=57,Kt=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=zn&&t<=qn?`_${e}`:e};function Xt(e,t){return e=Kt(e),{[e]:function(){return t.apply(this,arguments)}}[e]}var Zt=(e,t,n)=>{if(e[t].overloadTable===void 0){var i=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||F(`Function '${n}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[i.argCount]=i}},er=(e,t,n)=>{a.hasOwnProperty(e)?((n===void 0||a[e].overloadTable!==void 0&&a[e].overloadTable[n]!==void 0)&&F(`Cannot register public name '${e}' twice`),Zt(a,e,e),a.hasOwnProperty(n)&&F(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),a[e].overloadTable[n]=t):(a[e]=t,n!==void 0&&(a[e].numArguments=n))};function Ln(e,t,n,i,s,l,u,d){this.name=e,this.constructor=t,this.instancePrototype=n,this.rawDestructor=i,this.baseClass=s,this.getActualType=l,this.upcast=u,this.downcast=d,this.pureVirtualFunctions=[]}var At=(e,t,n)=>{for(;t!==n;)t.upcast||F(`Expected null or instance of ${n.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function Nn(e,t){if(t===null)return this.isReference&&F(`null is not a valid ${this.name}`),0;t.$$||F(`Cannot pass "${Mt(t)}" as a ${this.name}`),t.$$.ptr||F(`Cannot pass deleted object as a pointer of type ${this.name}`);var n=t.$$.ptrType.registeredClass,i=At(t.$$.ptr,n,this.registeredClass);return i}function Qn(e,t){var n;if(t===null)return this.isReference&&F(`null is not a valid ${this.name}`),this.isSmartPointer?(n=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,n),n):0;t.$$||F(`Cannot pass "${Mt(t)}" as a ${this.name}`),t.$$.ptr||F(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&F(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var i=t.$$.ptrType.registeredClass;if(n=At(t.$$.ptr,i,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&F("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?n=t.$$.smartPtr:F(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:n=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)n=t.$$.smartPtr;else{var s=t.clone();n=this.rawShare(n,we.toHandle(()=>s.delete())),e!==null&&e.push(this.rawDestructor,n)}break;default:F("Unsupporting sharing policy")}return n}function Gn(e,t){if(t===null)return this.isReference&&F(`null is not a valid ${this.name}`),0;t.$$||F(`Cannot pass "${Mt(t)}" as a ${this.name}`),t.$$.ptr||F(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&F(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass,i=At(t.$$.ptr,n,this.registeredClass);return i}function tr(e){return this.fromWireType(I[e>>2])}var Yn=()=>{Object.assign(ot.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor&&this.rawDestructor(e)},argPackAdvance:he,readValueFromPointer:tr,deleteObject(e){e!==null&&e.delete()},fromWireType:Wn})};function ot(e,t,n,i,s,l,u,d,h,w,S){this.name=e,this.registeredClass=t,this.isReference=n,this.isConst=i,this.isSmartPointer=s,this.pointeeType=l,this.sharingPolicy=u,this.rawGetPointee=d,this.rawConstructor=h,this.rawShare=w,this.rawDestructor=S,!s&&t.baseClass===void 0?i?(this.toWireType=Nn,this.destructorFunction=null):(this.toWireType=Gn,this.destructorFunction=null):this.toWireType=Qn}var rr=(e,t,n)=>{a.hasOwnProperty(e)||rt("Replacing nonexistant public symbol"),a[e].overloadTable!==void 0&&n!==void 0?a[e].overloadTable[n]=t:(a[e]=t,a[e].argCount=n)},Jn=(e,t,n)=>{var i=a["dynCall_"+e];return n&&n.length?i.apply(null,[t].concat(n)):i.call(null,t)},it=[],nr,V=e=>{var t=it[e];return t||(e>=it.length&&(it.length=e+1),it[e]=t=nr.get(e)),t},Kn=(e,t,n)=>{if(e.includes("j"))return Jn(e,t,n);var i=V(t).apply(null,n);return i},Xn=(e,t)=>{var n=[];return function(){return n.length=0,Object.assign(n,arguments),Kn(e,t,n)}},se=(e,t)=>{e=te(e);function n(){return e.includes("j")?Xn(e,t):V(t)}var i=n();return typeof i!="function"&&F(`unknown function pointer with signature ${e}: ${t}`),i},Zn=(e,t)=>{var n=Xt(t,function(i){this.name=t,this.message=i;var s=new Error(i).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},n},ar,or=e=>{var t=yr(e),n=te(t);return me(t),n},st=(e,t)=>{var n=[],i={};function s(l){if(!i[l]&&!Se[l]){if(tt[l]){tt[l].forEach(s);return}n.push(l),i[l]=!0}}throw t.forEach(s),new ar(`${e}: `+n.map(or).join([", "]))},ea=(e,t,n,i,s,l,u,d,h,w,S,T,P)=>{S=te(S),l=se(s,l),d&&(d=se(u,d)),w&&(w=se(h,w)),P=se(T,P);var k=Kt(S);er(k,function(){st(`Cannot construct ${S} due to unbound types`,[i])}),$e([e,t,n],i?[i]:[],function(H){H=H[0];var K,z;i?(K=H.registeredClass,z=K.instancePrototype):z=at.prototype;var X=Xt(k,function(){if(Object.getPrototypeOf(this)!==b)throw new De("Use 'new' to construct "+S);if($.constructor_body===void 0)throw new De(S+" has no accessible constructor");var ut=$.constructor_body[arguments.length];if(ut===void 0)throw new De(`Tried to invoke ctor of ${S} with invalid number of parameters (${arguments.length}) - expected (${Object.keys($.constructor_body).toString()}) parameters instead!`);return ut.apply(this,arguments)}),b=Object.create(z,{constructor:{value:X}});X.prototype=b;var $=new Ln(S,X,b,P,K,l,d,w);$.baseClass&&($.baseClass.__derivedClasses===void 0&&($.baseClass.__derivedClasses=[]),$.baseClass.__derivedClasses.push($));var G=new ot(S,$,!0,!1,!1),J=new ot(S+"*",$,!1,!1,!1),Te=new ot(S+" const*",$,!1,!0,!1);return Jt[e]={pointerType:J,constPointerType:Te},rr(k,X),[G,J,Te]})},Ot=(e,t)=>{for(var n=[],i=0;i<e;i++)n.push(I[t+i*4>>2]);return n};function Dt(e,t,n,i,s,l){var u=t.length;u<2&&F("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var d=t[1]!==null&&n!==null,h=!1,w=1;w<t.length;++w)if(t[w]!==null&&t[w].destructorFunction===void 0){h=!0;break}var S=t[0].name!=="void",T=u-2,P=new Array(T),k=[],H=[];return function(){arguments.length!==T&&F(`function ${e} called with ${arguments.length} arguments, expected ${T}`),H.length=0;var K;k.length=d?2:1,k[0]=s,d&&(K=t[1].toWireType(H,this),k[1]=K);for(var z=0;z<T;++z)P[z]=t[z+2].toWireType(H,arguments[z]),k.push(P[z]);var X=i.apply(null,k);function b($){if(h)qt(H);else for(var G=d?1:2;G<t.length;G++){var J=G===1?K:P[G-2];t[G].destructorFunction!==null&&t[G].destructorFunction(J)}if(S)return t[0].fromWireType($)}return b(X)}}var ta=(e,t,n,i,s,l)=>{var u=Ot(t,n);s=se(i,s),$e([],[e],function(d){d=d[0];var h=`constructor ${d.name}`;if(d.registeredClass.constructor_body===void 0&&(d.registeredClass.constructor_body=[]),d.registeredClass.constructor_body[t-1]!==void 0)throw new De(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${d.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return d.registeredClass.constructor_body[t-1]=()=>{st(`Cannot construct ${d.name} due to unbound types`,u)},$e([],u,w=>(w.splice(1,0,null),d.registeredClass.constructor_body[t-1]=Dt(h,w,null,s,l),[])),[]})},ra=(e,t,n,i,s,l,u,d,h)=>{var w=Ot(n,i);t=te(t),l=se(s,l),$e([],[e],function(S){S=S[0];var T=`${S.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),d&&S.registeredClass.pureVirtualFunctions.push(t);function P(){st(`Cannot call ${T} due to unbound types`,w)}var k=S.registeredClass.instancePrototype,H=k[t];return H===void 0||H.overloadTable===void 0&&H.className!==S.name&&H.argCount===n-2?(P.argCount=n-2,P.className=S.name,k[t]=P):(Zt(k,t,T),k[t].overloadTable[n-2]=P),$e([],w,function(K){var z=Dt(T,K,S,l,u);return k[t].overloadTable===void 0?(z.argCount=n-2,k[t]=z):k[t].overloadTable[n-2]=z,[]}),[]})};function na(){Object.assign(ir.prototype,{get(e){return this.allocated[e]},has(e){return this.allocated[e]!==void 0},allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},free(e){this.allocated[e]=void 0,this.freelist.push(e)}})}function ir(){this.allocated=[void 0],this.freelist=[]}var ie=new ir,sr=e=>{e>=ie.reserved&&--ie.get(e).refcount===0&&ie.free(e)},aa=()=>{for(var e=0,t=ie.reserved;t<ie.allocated.length;++t)ie.allocated[t]!==void 0&&++e;return e},oa=()=>{ie.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),ie.reserved=ie.allocated.length,a.count_emval_handles=aa},we={toValue:e=>(e||F("Cannot use deleted val. handle = "+e),ie.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ie.allocate({refcount:1,value:e})}}},ia=(e,t)=>{t=te(t),pe(e,{name:t,fromWireType:n=>{var i=we.toValue(n);return sr(n),i},toWireType:(n,i)=>we.toHandle(i),argPackAdvance:he,readValueFromPointer:$t,destructorFunction:null})},Mt=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},sa=(e,t)=>{switch(t){case 4:return function(n){return this.fromWireType(Pe[n>>2])};case 8:return function(n){return this.fromWireType(Ee[n>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},la=(e,t,n)=>{t=te(t),pe(e,{name:t,fromWireType:i=>i,toWireType:(i,s)=>s,argPackAdvance:he,readValueFromPointer:sa(t,n),destructorFunction:null})},ca=(e,t,n,i,s,l,u)=>{var d=Ot(t,n);e=te(e),s=se(i,s),er(e,function(){st(`Cannot call ${e} due to unbound types`,d)},t-1),$e([],d,function(h){var w=[h[0],null].concat(h.slice(1));return rr(e,Dt(e,w,null,s,l),t-1),[]})},ua=(e,t,n)=>{switch(t){case 1:return n?i=>q[i>>0]:i=>D[i>>0];case 2:return n?i=>W[i>>1]:i=>Y[i>>1];case 4:return n?i=>Q[i>>2]:i=>I[i>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},da=(e,t,n,i,s)=>{t=te(t);var l=S=>S;if(i===0){var u=32-8*n;l=S=>S<<u>>>u}var d=t.includes("unsigned"),h=(S,T)=>{},w;d?w=function(S,T){return h(T,this.name),T>>>0}:w=function(S,T){return h(T,this.name),T},pe(e,{name:t,fromWireType:l,toWireType:w,argPackAdvance:he,readValueFromPointer:ua(t,n,i!==0),destructorFunction:null})},fa=(e,t,n)=>{var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=i[t];function l(u){var d=I[u>>2],h=I[u+4>>2];return new s(q.buffer,h,d)}n=te(n),pe(e,{name:n,fromWireType:l,argPackAdvance:he,readValueFromPointer:l},{ignoreDuplicateRegistrations:!0})},lr=(e,t,n,i)=>{if(!(i>0))return 0;for(var s=n,l=n+i-1,u=0;u<e.length;++u){var d=e.charCodeAt(u);if(d>=55296&&d<=57343){var h=e.charCodeAt(++u);d=65536+((d&1023)<<10)|h&1023}if(d<=127){if(n>=l)break;t[n++]=d}else if(d<=2047){if(n+1>=l)break;t[n++]=192|d>>6,t[n++]=128|d&63}else if(d<=65535){if(n+2>=l)break;t[n++]=224|d>>12,t[n++]=128|d>>6&63,t[n++]=128|d&63}else{if(n+3>=l)break;t[n++]=240|d>>18,t[n++]=128|d>>12&63,t[n++]=128|d>>6&63,t[n++]=128|d&63}}return t[n]=0,n-s},pa=(e,t,n)=>lr(e,D,t,n),cr=e=>{for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i<=127?t++:i<=2047?t+=2:i>=55296&&i<=57343?(t+=4,++n):t+=3}return t},ur=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ha=(e,t,n)=>{for(var i=t+n,s=t;e[s]&&!(s>=i);)++s;if(s-t>16&&e.buffer&&ur)return ur.decode(e.subarray(t,s));for(var l="";t<s;){var u=e[t++];if(!(u&128)){l+=String.fromCharCode(u);continue}var d=e[t++]&63;if((u&224)==192){l+=String.fromCharCode((u&31)<<6|d);continue}var h=e[t++]&63;if((u&240)==224?u=(u&15)<<12|d<<6|h:u=(u&7)<<18|d<<12|h<<6|e[t++]&63,u<65536)l+=String.fromCharCode(u);else{var w=u-65536;l+=String.fromCharCode(55296|w>>10,56320|w&1023)}}return l},xt=(e,t)=>e?ha(D,e,t):"",ma=(e,t)=>{t=te(t);var n=t==="std::string";pe(e,{name:t,fromWireType(i){var s=I[i>>2],l=i+4,u;if(n)for(var d=l,h=0;h<=s;++h){var w=l+h;if(h==s||D[w]==0){var S=w-d,T=xt(d,S);u===void 0?u=T:(u+=String.fromCharCode(0),u+=T),d=w+1}}else{for(var P=new Array(s),h=0;h<s;++h)P[h]=String.fromCharCode(D[l+h]);u=P.join("")}return me(i),u},toWireType(i,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var l,u=typeof s=="string";u||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||F("Cannot pass non-string to std::string"),n&&u?l=cr(s):l=s.length;var d=kt(4+l+1),h=d+4;if(I[d>>2]=l,n&&u)pa(s,h,l+1);else if(u)for(var w=0;w<l;++w){var S=s.charCodeAt(w);S>255&&(me(h),F("String has UTF-16 code units that do not fit in 8 bits")),D[h+w]=S}else for(var w=0;w<l;++w)D[h+w]=s[w];return i!==null&&i.push(me,d),d},argPackAdvance:he,readValueFromPointer:tr,destructorFunction(i){me(i)}})},dr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,va=(e,t)=>{for(var n=e,i=n>>1,s=i+t/2;!(i>=s)&&Y[i];)++i;if(n=i<<1,n-e>32&&dr)return dr.decode(D.subarray(e,n));for(var l="",u=0;!(u>=t/2);++u){var d=W[e+u*2>>1];if(d==0)break;l+=String.fromCharCode(d)}return l},ya=(e,t,n)=>{if(n===void 0&&(n=2147483647),n<2)return 0;n-=2;for(var i=t,s=n<e.length*2?n/2:e.length,l=0;l<s;++l){var u=e.charCodeAt(l);W[t>>1]=u,t+=2}return W[t>>1]=0,t-i},ga=e=>e.length*2,wa=(e,t)=>{for(var n=0,i="";!(n>=t/4);){var s=Q[e+n*4>>2];if(s==0)break;if(++n,s>=65536){var l=s-65536;i+=String.fromCharCode(55296|l>>10,56320|l&1023)}else i+=String.fromCharCode(s)}return i},ba=(e,t,n)=>{if(n===void 0&&(n=2147483647),n<4)return 0;for(var i=t,s=i+n-4,l=0;l<e.length;++l){var u=e.charCodeAt(l);if(u>=55296&&u<=57343){var d=e.charCodeAt(++l);u=65536+((u&1023)<<10)|d&1023}if(Q[t>>2]=u,t+=4,t+4>s)break}return Q[t>>2]=0,t-i},Ca=e=>{for(var t=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=55296&&i<=57343&&++n,t+=4}return t},_a=(e,t,n)=>{n=te(n);var i,s,l,u,d;t===2?(i=va,s=ya,u=ga,l=()=>Y,d=1):t===4&&(i=wa,s=ba,u=Ca,l=()=>I,d=2),pe(e,{name:n,fromWireType:h=>{for(var w=I[h>>2],S=l(),T,P=h+4,k=0;k<=w;++k){var H=h+4+k*t;if(k==w||S[H>>d]==0){var K=H-P,z=i(P,K);T===void 0?T=z:(T+=String.fromCharCode(0),T+=z),P=H+t}}return me(h),T},toWireType:(h,w)=>{typeof w!="string"&&F(`Cannot pass non-string to C++ string type ${n}`);var S=u(w),T=kt(4+S+t);return I[T>>2]=S>>d,s(w,T+4,S+t),h!==null&&h.push(me,T),T},argPackAdvance:he,readValueFromPointer:$t,destructorFunction(h){me(h)}})},Sa=(e,t,n,i,s,l)=>{et[e]={name:te(t),rawConstructor:se(n,i),rawDestructor:se(s,l),fields:[]}},$a=(e,t,n,i,s,l,u,d,h,w)=>{et[e].fields.push({fieldName:te(t),getterReturnType:n,getter:se(i,s),getterContext:l,setterArgumentType:u,setter:se(d,h),setterContext:w})},Ta=(e,t)=>{t=te(t),pe(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(n,i)=>{}})},Pa={},Ea=e=>{var t=Pa[e];return t===void 0?te(e):t},fr=()=>{if(typeof globalThis=="object")return globalThis;function e(t){t.$$$embind_global$$$=t;var n=typeof $$$embind_global$$$=="object"&&t.$$$embind_global$$$==t;return n||delete t.$$$embind_global$$$,n}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&e(global)?$$$embind_global$$$=global:typeof self=="object"&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},Aa=e=>e===0?we.toHandle(fr()):(e=Ea(e),we.toHandle(fr()[e])),Oa=e=>{e>4&&(ie.get(e).refcount+=1)},pr=(e,t)=>{var n=Se[e];return n===void 0&&F(t+" has unknown type "+or(e)),n},Da=e=>{var t=new Array(e+1);return function(n,i,s){t[0]=n;for(var l=0;l<e;++l){var u=pr(I[i+l*4>>2],"parameter "+l);t[l+1]=u.readValueFromPointer(s),s+=u.argPackAdvance}var d=new(n.bind.apply(n,t));return we.toHandle(d)}},hr={},Ma=(e,t,n,i)=>{e=we.toValue(e);var s=hr[t];return s||(s=Da(t),hr[t]=s),s(e,n,i)},xa=(e,t)=>{e=pr(e,"_emval_take_value");var n=e.readValueFromPointer(t);return we.toHandle(n)},Ra=()=>{Ae("")},ka=(e,t,n)=>D.copyWithin(e,t,t+n),ja=()=>2147483648,Fa=e=>{var t=A.buffer,n=(e-t.byteLength+65535)/65536;try{return A.grow(n),je(),1}catch{}},Va=e=>{var t=D.length;e>>>=0;var n=ja();if(e>n)return!1;for(var i=(h,w)=>h+(w-h%w)%w,s=1;s<=4;s*=2){var l=t*(1+.2/s);l=Math.min(l,e+100663296);var u=Math.min(n,i(Math.max(e,l),65536)),d=Fa(u);if(d)return!0}return!1},Rt={},Ua=()=>y||"./this.program",ze=()=>{if(!ze.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Ua()};for(var n in Rt)Rt[n]===void 0?delete t[n]:t[n]=Rt[n];var i=[];for(var n in t)i.push(`${n}=${t[n]}`);ze.strings=i}return ze.strings},Ia=(e,t)=>{for(var n=0;n<e.length;++n)q[t++>>0]=e.charCodeAt(n);q[t>>0]=0},Ba=(e,t)=>{var n=0;return ze().forEach((i,s)=>{var l=t+n;I[e+s*4>>2]=l,Ia(i,l),n+=i.length+1}),0},Wa=(e,t)=>{var n=ze();I[e>>2]=n.length;var i=0;return n.forEach(s=>i+=s.length+1),I[t>>2]=i,0},Ha=e=>e,lt=e=>e%4===0&&(e%100!==0||e%400===0),za=(e,t)=>{for(var n=0,i=0;i<=t;n+=e[i++]);return n},mr=[31,29,31,30,31,30,31,31,30,31,30,31],vr=[31,28,31,30,31,30,31,31,30,31,30,31],qa=(e,t)=>{for(var n=new Date(e.getTime());t>0;){var i=lt(n.getFullYear()),s=n.getMonth(),l=(i?mr:vr)[s];if(t>l-n.getDate())t-=l-n.getDate()+1,n.setDate(1),s<11?n.setMonth(s+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1));else return n.setDate(n.getDate()+t),n}return n};function La(e,t,n){var i=n>0?n:cr(e)+1,s=new Array(i),l=lr(e,s,0,s.length);return t&&(s.length=l),s}var Na=(e,t)=>{q.set(e,t)},Qa=(e,t,n,i)=>{var s=I[i+40>>2],l={tm_sec:Q[i>>2],tm_min:Q[i+4>>2],tm_hour:Q[i+8>>2],tm_mday:Q[i+12>>2],tm_mon:Q[i+16>>2],tm_year:Q[i+20>>2],tm_wday:Q[i+24>>2],tm_yday:Q[i+28>>2],tm_isdst:Q[i+32>>2],tm_gmtoff:Q[i+36>>2],tm_zone:s?xt(s):""},u=xt(n),d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var h in d)u=u.replace(new RegExp(h,"g"),d[h]);var w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],S=["January","February","March","April","May","June","July","August","September","October","November","December"];function T(b,$,G){for(var J=typeof b=="number"?b.toString():b||"";J.length<$;)J=G[0]+J;return J}function P(b,$){return T(b,$,"0")}function k(b,$){function G(Te){return Te<0?-1:Te>0?1:0}var J;return(J=G(b.getFullYear()-$.getFullYear()))===0&&(J=G(b.getMonth()-$.getMonth()))===0&&(J=G(b.getDate()-$.getDate())),J}function H(b){switch(b.getDay()){case 0:return new Date(b.getFullYear()-1,11,29);case 1:return b;case 2:return new Date(b.getFullYear(),0,3);case 3:return new Date(b.getFullYear(),0,2);case 4:return new Date(b.getFullYear(),0,1);case 5:return new Date(b.getFullYear()-1,11,31);case 6:return new Date(b.getFullYear()-1,11,30)}}function K(b){var $=qa(new Date(b.tm_year+1900,0,1),b.tm_yday),G=new Date($.getFullYear(),0,4),J=new Date($.getFullYear()+1,0,4),Te=H(G),ut=H(J);return k(Te,$)<=0?k(ut,$)<=0?$.getFullYear()+1:$.getFullYear():$.getFullYear()-1}var z={"%a":b=>w[b.tm_wday].substring(0,3),"%A":b=>w[b.tm_wday],"%b":b=>S[b.tm_mon].substring(0,3),"%B":b=>S[b.tm_mon],"%C":b=>{var $=b.tm_year+1900;return P($/100|0,2)},"%d":b=>P(b.tm_mday,2),"%e":b=>T(b.tm_mday,2," "),"%g":b=>K(b).toString().substring(2),"%G":b=>K(b),"%H":b=>P(b.tm_hour,2),"%I":b=>{var $=b.tm_hour;return $==0?$=12:$>12&&($-=12),P($,2)},"%j":b=>P(b.tm_mday+za(lt(b.tm_year+1900)?mr:vr,b.tm_mon-1),3),"%m":b=>P(b.tm_mon+1,2),"%M":b=>P(b.tm_min,2),"%n":()=>`
`,"%p":b=>b.tm_hour>=0&&b.tm_hour<12?"AM":"PM","%S":b=>P(b.tm_sec,2),"%t":()=>"	","%u":b=>b.tm_wday||7,"%U":b=>{var $=b.tm_yday+7-b.tm_wday;return P(Math.floor($/7),2)},"%V":b=>{var $=Math.floor((b.tm_yday+7-(b.tm_wday+6)%7)/7);if((b.tm_wday+371-b.tm_yday-2)%7<=2&&$++,$){if($==53){var G=(b.tm_wday+371-b.tm_yday)%7;G!=4&&(G!=3||!lt(b.tm_year))&&($=1)}}else{$=52;var J=(b.tm_wday+7-b.tm_yday-1)%7;(J==4||J==5&&lt(b.tm_year%400-1))&&$++}return P($,2)},"%w":b=>b.tm_wday,"%W":b=>{var $=b.tm_yday+7-(b.tm_wday+6)%7;return P(Math.floor($/7),2)},"%y":b=>(b.tm_year+1900).toString().substring(2),"%Y":b=>b.tm_year+1900,"%z":b=>{var $=b.tm_gmtoff,G=$>=0;return $=Math.abs($)/60,$=$/60*100+$%60,(G?"+":"-")+("0000"+$).slice(-4)},"%Z":b=>b.tm_zone,"%%":()=>"%"};u=u.replace(/%%/g,"\0\0");for(var h in z)u.includes(h)&&(u=u.replace(new RegExp(h,"g"),z[h](l)));u=u.replace(/\0\0/g,"%");var X=La(u,!1);return X.length>t?0:(Na(X,e),X.length-1)},Ga=(e,t,n,i,s)=>Qa(e,t,n,i);Lt=a.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Dn(),De=a.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Hn(),Un(),Yn(),ar=a.UnboundTypeError=Zn(Error,"UnboundTypeError"),na(),oa();var Ya={q:gn,u:wn,a:Cn,h:_n,l:Sn,I:$n,P:Tn,n:Pn,ba:En,d:bn,oa:An,Y:On,fa:xn,na:ea,ma:ta,D:ra,ea:ia,W:la,J:ca,w:da,s:fa,V:ma,L:_a,Q:Sa,pa:$a,ga:Ta,U:sr,la:Aa,R:Oa,ia:Ma,ka:xa,K:Ra,da:ka,ca:Va,$:Ba,aa:Wa,H:mo,T:$o,B:yo,p:fo,b:Ja,C:ho,ha:wo,c:to,j:no,i:Za,x:vo,O:po,v:co,G:Co,N:_o,A:go,F:To,Z:Eo,X:Ao,k:ro,f:eo,e:Xa,g:Ka,M:So,m:lo,o:ao,S:oo,t:so,ja:uo,y:bo,r:io,E:Po,z:Ha,_:Ga},L=yn(),me=a._free=e=>(me=a._free=L.sa)(e),kt=a._malloc=e=>(kt=a._malloc=L.ta)(e),yr=e=>(yr=L.va)(e);a.__embind_initialize_bindings=()=>(a.__embind_initialize_bindings=L.wa)();var M=(e,t)=>(M=L.xa)(e,t),qe=e=>(qe=L.ya)(e),x=()=>(x=L.za)(),R=e=>(R=L.Aa)(e),gr=e=>(gr=L.Ba)(e),wr=e=>(wr=L.Ca)(e),br=(e,t,n)=>(br=L.Da)(e,t,n),Cr=e=>(Cr=L.Ea)(e);a.dynCall_viijii=(e,t,n,i,s,l,u)=>(a.dynCall_viijii=L.Fa)(e,t,n,i,s,l,u);var _r=a.dynCall_jiii=(e,t,n,i)=>(_r=a.dynCall_jiii=L.Ga)(e,t,n,i),Sr=a.dynCall_jiiii=(e,t,n,i,s)=>(Sr=a.dynCall_jiiii=L.Ha)(e,t,n,i,s);a.dynCall_iiiiij=(e,t,n,i,s,l,u)=>(a.dynCall_iiiiij=L.Ia)(e,t,n,i,s,l,u),a.dynCall_iiiiijj=(e,t,n,i,s,l,u,d,h)=>(a.dynCall_iiiiijj=L.Ja)(e,t,n,i,s,l,u,d,h),a.dynCall_iiiiiijj=(e,t,n,i,s,l,u,d,h,w)=>(a.dynCall_iiiiiijj=L.Ka)(e,t,n,i,s,l,u,d,h,w);function Ja(e,t){var n=x();try{return V(e)(t)}catch(i){if(R(n),i!==i+0)throw i;M(1,0)}}function Ka(e,t,n,i){var s=x();try{V(e)(t,n,i)}catch(l){if(R(s),l!==l+0)throw l;M(1,0)}}function Xa(e,t,n){var i=x();try{V(e)(t,n)}catch(s){if(R(i),s!==s+0)throw s;M(1,0)}}function Za(e,t,n,i,s){var l=x();try{return V(e)(t,n,i,s)}catch(u){if(R(l),u!==u+0)throw u;M(1,0)}}function eo(e,t){var n=x();try{V(e)(t)}catch(i){if(R(n),i!==i+0)throw i;M(1,0)}}function to(e,t,n){var i=x();try{return V(e)(t,n)}catch(s){if(R(i),s!==s+0)throw s;M(1,0)}}function ro(e){var t=x();try{V(e)()}catch(n){if(R(t),n!==n+0)throw n;M(1,0)}}function no(e,t,n,i){var s=x();try{return V(e)(t,n,i)}catch(l){if(R(s),l!==l+0)throw l;M(1,0)}}function ao(e,t,n,i,s,l){var u=x();try{V(e)(t,n,i,s,l)}catch(d){if(R(u),d!==d+0)throw d;M(1,0)}}function oo(e,t,n,i,s,l,u){var d=x();try{V(e)(t,n,i,s,l,u)}catch(h){if(R(d),h!==h+0)throw h;M(1,0)}}function io(e,t,n,i,s,l,u,d,h,w,S){var T=x();try{V(e)(t,n,i,s,l,u,d,h,w,S)}catch(P){if(R(T),P!==P+0)throw P;M(1,0)}}function so(e,t,n,i,s,l,u,d){var h=x();try{V(e)(t,n,i,s,l,u,d)}catch(w){if(R(h),w!==w+0)throw w;M(1,0)}}function lo(e,t,n,i,s){var l=x();try{V(e)(t,n,i,s)}catch(u){if(R(l),u!==u+0)throw u;M(1,0)}}function co(e,t,n,i,s,l,u){var d=x();try{return V(e)(t,n,i,s,l,u)}catch(h){if(R(d),h!==h+0)throw h;M(1,0)}}function uo(e,t,n,i,s,l,u,d,h){var w=x();try{V(e)(t,n,i,s,l,u,d,h)}catch(S){if(R(w),S!==S+0)throw S;M(1,0)}}function fo(e){var t=x();try{return V(e)()}catch(n){if(R(t),n!==n+0)throw n;M(1,0)}}function po(e,t,n,i,s,l,u){var d=x();try{return V(e)(t,n,i,s,l,u)}catch(h){if(R(d),h!==h+0)throw h;M(1,0)}}function ho(e,t,n,i){var s=x();try{return V(e)(t,n,i)}catch(l){if(R(s),l!==l+0)throw l;M(1,0)}}function mo(e,t,n,i){var s=x();try{return V(e)(t,n,i)}catch(l){if(R(s),l!==l+0)throw l;M(1,0)}}function vo(e,t,n,i,s,l){var u=x();try{return V(e)(t,n,i,s,l)}catch(d){if(R(u),d!==d+0)throw d;M(1,0)}}function yo(e,t,n,i,s,l){var u=x();try{return V(e)(t,n,i,s,l)}catch(d){if(R(u),d!==d+0)throw d;M(1,0)}}function go(e,t,n,i,s,l,u,d,h,w){var S=x();try{return V(e)(t,n,i,s,l,u,d,h,w)}catch(T){if(R(S),T!==T+0)throw T;M(1,0)}}function wo(e,t,n){var i=x();try{return V(e)(t,n)}catch(s){if(R(i),s!==s+0)throw s;M(1,0)}}function bo(e,t,n,i,s,l,u,d,h,w){var S=x();try{V(e)(t,n,i,s,l,u,d,h,w)}catch(T){if(R(S),T!==T+0)throw T;M(1,0)}}function Co(e,t,n,i,s,l,u,d){var h=x();try{return V(e)(t,n,i,s,l,u,d)}catch(w){if(R(h),w!==w+0)throw w;M(1,0)}}function _o(e,t,n,i,s,l,u,d,h){var w=x();try{return V(e)(t,n,i,s,l,u,d,h)}catch(S){if(R(w),S!==S+0)throw S;M(1,0)}}function So(e,t,n,i,s,l,u){var d=x();try{V(e)(t,n,i,s,l,u)}catch(h){if(R(d),h!==h+0)throw h;M(1,0)}}function $o(e,t,n,i){var s=x();try{return V(e)(t,n,i)}catch(l){if(R(s),l!==l+0)throw l;M(1,0)}}function To(e,t,n,i,s,l,u,d,h,w,S,T){var P=x();try{return V(e)(t,n,i,s,l,u,d,h,w,S,T)}catch(k){if(R(P),k!==k+0)throw k;M(1,0)}}function Po(e,t,n,i,s,l,u,d,h,w,S,T,P,k,H,K){var z=x();try{V(e)(t,n,i,s,l,u,d,h,w,S,T,P,k,H,K)}catch(X){if(R(z),X!==X+0)throw X;M(1,0)}}function Eo(e,t,n,i){var s=x();try{return _r(e,t,n,i)}catch(l){if(R(s),l!==l+0)throw l;M(1,0)}}function Ao(e,t,n,i,s){var l=x();try{return Sr(e,t,n,i,s)}catch(u){if(R(l),u!==u+0)throw u;M(1,0)}}var ct;oe=function e(){ct||$r(),ct||(oe=e)};function $r(){if(ue>0||(vt(),ue>0))return;function e(){ct||(ct=!0,a.calledRun=!0,!B&&(yt(),c(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),gt()))}a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),e()},1)):e()}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return $r(),o.ready}})();function hi(r){return Wt(Ht,r)}async function mi(r,{tryHarder:o=re.tryHarder,formats:a=re.formats,maxSymbols:c=re.maxSymbols}=re){return fi(r,{tryHarder:o,formats:a,maxSymbols:c},Ht)}async function vi(r,{tryHarder:o=re.tryHarder,formats:a=re.formats,maxSymbols:c=re.maxSymbols}=re){return pi(r,{tryHarder:o,formats:a,maxSymbols:c},Ht)}const It=new Map([["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["data_matrix","DataMatrix"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["pdf417","PDF417"],["qr_code","QRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"]]);function yi(r){for(const[o,a]of It)if(r===a)return o;return"unknown"}var Ne;class en extends EventTarget{constructor(o={}){var a;super(),Ko(this,Ne,void 0);try{const c=(a=o==null?void 0:o.formats)==null?void 0:a.filter(f=>f!=="unknown");if((c==null?void 0:c.length)===0)throw new TypeError("Hint option provided, but is empty.");c==null||c.forEach(f=>{if(!xr.includes(f))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${f}' is not a valid enum value of type BarcodeFormat.`)}),Xo(this,Ne,c!=null?c:[]),hi().then(f=>{this.dispatchEvent(new CustomEvent("load",{detail:f}))}).catch(f=>{this.dispatchEvent(new CustomEvent("error",{detail:f}))})}catch(c){throw Rr(c,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return xr.filter(o=>o!=="unknown")}async detect(o){try{const a=await ai(o);if(a===null)return[];let c;try{Jr(a)?c=await mi(a,{tryHarder:!0,formats:Mr(this,Ne).map(f=>It.get(f))}):c=await vi(a,{tryHarder:!0,formats:Mr(this,Ne).map(f=>It.get(f))})}catch(f){throw console.error(f),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return c.map(f=>{const{topLeft:{x:m,y},topRight:{x:v,y:p},bottomLeft:{x:g,y:_},bottomRight:{x:C,y:j}}=f.position,O=Math.min(m,v,g,C),A=Math.min(y,p,_,j),B=Math.max(m,v,g,C),q=Math.max(y,p,_,j);return{boundingBox:new DOMRectReadOnly(O,A,B-O,q-A),rawValue:new TextDecoder().decode(f.bytes),format:yi(f.format),cornerPoints:[{x:m,y},{x:v,y:p},{x:C,y:j},{x:g,y:_}]}})}catch(a){throw Rr(a,"Failed to execute 'detect' on 'BarcodeDetector'")}}}Ne=new WeakMap;const tn=(r,o,a="error")=>{let c,f;const m=new Promise((y,v)=>{c=y,f=v,r.addEventListener(o,c),r.addEventListener(a,f)});return m.finally(()=>{r.removeEventListener(o,c),r.removeEventListener(a,f)}),m},Vr=r=>new Promise(o=>setTimeout(o,r));class rn extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class gi extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class wi extends Error{constructor(){super("Loading camera stream timed out after 3 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let Bt;const bi=r=>{Bt=new en({formats:r})},Ci=async(r,{detectHandler:o,locateHandler:a,minDelay:c,formats:f})=>{Bt=new en({formats:f});const m=y=>async v=>{if(r.readyState>1){const{lastScanned:p,contentBefore:g,lastScanHadContent:_}=y;if(v-p<c)window.requestAnimationFrame(m(y));else{const C=await Bt.detect(r),j=C.some(B=>!g.includes(B.rawValue));j&&o(C);const O=C.length>0;O&&a(C),!O&&_&&a(C);const A={lastScanned:v,lastScanHadContent:O,contentBefore:j?C.map(B=>B.rawValue):g};window.requestAnimationFrame(m(A))}}};m({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())};var nn={},ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.compactObject=sn;ne.deprecated=Di;var _i=ne.detectBrowser=Mi;ne.disableLog=Ei;ne.disableWarnings=Ai;ne.extractVersion=ht;ne.filterStats=xi;ne.log=Oi;ne.walkStats=mt;ne.wrapPeerConnectionEvent=Pi;function Si(r,o,a){return o=$i(o),o in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,r}function $i(r){var o=Ti(r,"string");return Ce(o)==="symbol"?o:String(o)}function Ti(r,o){if(Ce(r)!=="object"||r===null)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var c=a.call(r,o||"default");if(Ce(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}function Ce(r){return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Ce(r)}var an=!0,on=!0;function ht(r,o,a){var c=r.match(o);return c&&c.length>=a&&parseInt(c[a],10)}function Pi(r,o,a){if(r.RTCPeerConnection){var c=r.RTCPeerConnection.prototype,f=c.addEventListener;c.addEventListener=function(y,v){if(y!==o)return f.apply(this,arguments);var p=function(g){var _=a(g);_&&(v.handleEvent?v.handleEvent(_):v(_))};return this._eventMap=this._eventMap||{},this._eventMap[o]||(this._eventMap[o]=new Map),this._eventMap[o].set(v,p),f.apply(this,[y,p])};var m=c.removeEventListener;c.removeEventListener=function(y,v){if(y!==o||!this._eventMap||!this._eventMap[o])return m.apply(this,arguments);if(!this._eventMap[o].has(v))return m.apply(this,arguments);var p=this._eventMap[o].get(v);return this._eventMap[o].delete(v),this._eventMap[o].size===0&&delete this._eventMap[o],Object.keys(this._eventMap).length===0&&delete this._eventMap,m.apply(this,[y,p])},Object.defineProperty(c,"on"+o,{get:function(){return this["_on"+o]},set:function(y){this["_on"+o]&&(this.removeEventListener(o,this["_on"+o]),delete this["_on"+o]),y&&this.addEventListener(o,this["_on"+o]=y)},enumerable:!0,configurable:!0})}}function Ei(r){return typeof r!="boolean"?new Error("Argument type: "+Ce(r)+". Please use a boolean."):(an=r,r?"adapter.js logging disabled":"adapter.js logging enabled")}function Ai(r){return typeof r!="boolean"?new Error("Argument type: "+Ce(r)+". Please use a boolean."):(on=!r,"adapter.js deprecation warnings "+(r?"disabled":"enabled"))}function Oi(){if((typeof window>"u"?"undefined":Ce(window))==="object"){if(an)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Di(r,o){on&&console.warn(r+" is deprecated, please use "+o+" instead.")}function Mi(r){var o={browser:null,version:null};if(typeof r>"u"||!r.navigator||!r.navigator.userAgent)return o.browser="Not a browser.",o;var a=r.navigator;if(a.mozGetUserMedia)o.browser="firefox",o.version=ht(a.userAgent,/Firefox\/(\d+)\./,1);else if(a.webkitGetUserMedia||r.isSecureContext===!1&&r.webkitRTCPeerConnection)o.browser="chrome",o.version=ht(a.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(r.RTCPeerConnection&&a.userAgent.match(/AppleWebKit\/(\d+)\./))o.browser="safari",o.version=ht(a.userAgent,/AppleWebKit\/(\d+)\./,1),o.supportsUnifiedPlan=r.RTCRtpTransceiver&&"currentDirection"in r.RTCRtpTransceiver.prototype;else return o.browser="Not a supported browser.",o;return o}function Ur(r){return Object.prototype.toString.call(r)==="[object Object]"}function sn(r){return Ur(r)?Object.keys(r).reduce(function(o,a){var c=Ur(r[a]),f=c?sn(r[a]):r[a],m=c&&!Object.keys(f).length;return f===void 0||m?o:Object.assign(o,Si({},a,f))},{}):r}function mt(r,o,a){!o||a.has(o.id)||(a.set(o.id,o),Object.keys(o).forEach(function(c){c.endsWith("Id")?mt(r,r.get(o[c]),a):c.endsWith("Ids")&&o[c].forEach(function(f){mt(r,r.get(f),a)})}))}function xi(r,o,a){var c=a?"outbound-rtp":"inbound-rtp",f=new Map;if(o===null)return f;var m=[];return r.forEach(function(y){y.type==="track"&&y.trackIdentifier===o.id&&m.push(y)}),m.forEach(function(y){r.forEach(function(v){v.type===c&&v.trackId===y.id&&mt(r,v,f)})}),f}Object.defineProperty(nn,"__esModule",{value:!0});var Ri=nn.shimGetUserMedia=Fi,ki=ji(ne);function ln(r){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(ln=function(c){return c?a:o})(r)}function ji(r,o){if(!o&&r&&r.__esModule)return r;if(r===null||be(r)!=="object"&&typeof r!="function")return{default:r};var a=ln(o);if(a&&a.has(r))return a.get(r);var c={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in r)if(m!=="default"&&Object.prototype.hasOwnProperty.call(r,m)){var y=f?Object.getOwnPropertyDescriptor(r,m):null;y&&(y.get||y.set)?Object.defineProperty(c,m,y):c[m]=r[m]}return c.default=r,a&&a.set(r,c),c}function be(r){return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},be(r)}var Ir=ki.log;function Fi(r,o){var a=r&&r.navigator;if(a.mediaDevices){var c=function(p){if(be(p)!=="object"||p.mandatory||p.optional)return p;var g={};return Object.keys(p).forEach(function(_){if(!(_==="require"||_==="advanced"||_==="mediaSource")){var C=be(p[_])==="object"?p[_]:{ideal:p[_]};C.exact!==void 0&&typeof C.exact=="number"&&(C.min=C.max=C.exact);var j=function(A,B){return A?A+B.charAt(0).toUpperCase()+B.slice(1):B==="deviceId"?"sourceId":B};if(C.ideal!==void 0){g.optional=g.optional||[];var O={};typeof C.ideal=="number"?(O[j("min",_)]=C.ideal,g.optional.push(O),O={},O[j("max",_)]=C.ideal,g.optional.push(O)):(O[j("",_)]=C.ideal,g.optional.push(O))}C.exact!==void 0&&typeof C.exact!="number"?(g.mandatory=g.mandatory||{},g.mandatory[j("",_)]=C.exact):["min","max"].forEach(function(A){C[A]!==void 0&&(g.mandatory=g.mandatory||{},g.mandatory[j(A,_)]=C[A])})}}),p.advanced&&(g.optional=(g.optional||[]).concat(p.advanced)),g},f=function(p,g){if(o.version>=61)return g(p);if(p=JSON.parse(JSON.stringify(p)),p&&be(p.audio)==="object"){var _=function(A,B,q){B in A&&!(q in A)&&(A[q]=A[B],delete A[B])};p=JSON.parse(JSON.stringify(p)),_(p.audio,"autoGainControl","googAutoGainControl"),_(p.audio,"noiseSuppression","googNoiseSuppression"),p.audio=c(p.audio)}if(p&&be(p.video)==="object"){var C=p.video.facingMode;C=C&&(be(C)==="object"?C:{ideal:C});var j=o.version<66;if(C&&(C.exact==="user"||C.exact==="environment"||C.ideal==="user"||C.ideal==="environment")&&!(a.mediaDevices.getSupportedConstraints&&a.mediaDevices.getSupportedConstraints().facingMode&&!j)){delete p.video.facingMode;var O;if(C.exact==="environment"||C.ideal==="environment"?O=["back","rear"]:(C.exact==="user"||C.ideal==="user")&&(O=["front"]),O)return a.mediaDevices.enumerateDevices().then(function(A){A=A.filter(function(q){return q.kind==="videoinput"});var B=A.find(function(q){return O.some(function(D){return q.label.toLowerCase().includes(D)})});return!B&&A.length&&O.includes("back")&&(B=A[A.length-1]),B&&(p.video.deviceId=C.exact?{exact:B.deviceId}:{ideal:B.deviceId}),p.video=c(p.video),Ir("chrome: "+JSON.stringify(p)),g(p)})}p.video=c(p.video)}return Ir("chrome: "+JSON.stringify(p)),g(p)},m=function(p){return o.version>=64?p:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[p.name]||p.name,message:p.message,constraint:p.constraint||p.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},y=function(p,g,_){f(p,function(C){a.webkitGetUserMedia(C,g,function(j){_&&_(m(j))})})};if(a.getUserMedia=y.bind(a),a.mediaDevices.getUserMedia){var v=a.mediaDevices.getUserMedia.bind(a.mediaDevices);a.mediaDevices.getUserMedia=function(p){return f(p,function(g){return v(g).then(function(_){if(g.audio&&!_.getAudioTracks().length||g.video&&!_.getVideoTracks().length)throw _.getTracks().forEach(function(C){C.stop()}),new DOMException("","NotFoundError");return _},function(_){return Promise.reject(m(_))})})}}}}var cn={};Object.defineProperty(cn,"__esModule",{value:!0});var Vi=cn.shimGetUserMedia=Bi,Ui=Ii(ne);function un(r){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(un=function(c){return c?a:o})(r)}function Ii(r,o){if(!o&&r&&r.__esModule)return r;if(r===null||Re(r)!=="object"&&typeof r!="function")return{default:r};var a=un(o);if(a&&a.has(r))return a.get(r);var c={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in r)if(m!=="default"&&Object.prototype.hasOwnProperty.call(r,m)){var y=f?Object.getOwnPropertyDescriptor(r,m):null;y&&(y.get||y.set)?Object.defineProperty(c,m,y):c[m]=r[m]}return c.default=r,a&&a.set(r,c),c}function Re(r){return Re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Re(r)}function Bi(r,o){var a=r&&r.navigator,c=r&&r.MediaStreamTrack;if(a.getUserMedia=function(p,g,_){Ui.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),a.mediaDevices.getUserMedia(p).then(g,_)},!(o.version>55&&"autoGainControl"in a.mediaDevices.getSupportedConstraints())){var f=function(p,g,_){g in p&&!(_ in p)&&(p[_]=p[g],delete p[g])},m=a.mediaDevices.getUserMedia.bind(a.mediaDevices);if(a.mediaDevices.getUserMedia=function(p){return Re(p)==="object"&&Re(p.audio)==="object"&&(p=JSON.parse(JSON.stringify(p)),f(p.audio,"autoGainControl","mozAutoGainControl"),f(p.audio,"noiseSuppression","mozNoiseSuppression")),m(p)},c&&c.prototype.getSettings){var y=c.prototype.getSettings;c.prototype.getSettings=function(){var p=y.apply(this,arguments);return f(p,"mozAutoGainControl","autoGainControl"),f(p,"mozNoiseSuppression","noiseSuppression"),p}}if(c&&c.prototype.applyConstraints){var v=c.prototype.applyConstraints;c.prototype.applyConstraints=function(p){return this.kind==="audio"&&Re(p)==="object"&&(p=JSON.parse(JSON.stringify(p)),f(p,"autoGainControl","mozAutoGainControl"),f(p,"noiseSuppression","mozNoiseSuppression")),v.apply(this,[p])}}}}var ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.shimAudioContext=Ji;ce.shimCallbacksAPI=Li;ce.shimConstraints=pn;ce.shimCreateOfferLegacy=Yi;var Wi=ce.shimGetUserMedia=Ni;ce.shimLocalStreamsAPI=zi;ce.shimRTCIceServerUrls=Qi;ce.shimRemoteStreamsAPI=qi;ce.shimTrackEventTransceiver=Gi;var dn=Hi(ne);function fn(r){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(fn=function(c){return c?a:o})(r)}function Hi(r,o){if(!o&&r&&r.__esModule)return r;if(r===null||_e(r)!=="object"&&typeof r!="function")return{default:r};var a=fn(o);if(a&&a.has(r))return a.get(r);var c={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in r)if(m!=="default"&&Object.prototype.hasOwnProperty.call(r,m)){var y=f?Object.getOwnPropertyDescriptor(r,m):null;y&&(y.get||y.set)?Object.defineProperty(c,m,y):c[m]=r[m]}return c.default=r,a&&a.set(r,c),c}function _e(r){return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_e(r)}function zi(r){if(!(_e(r)!=="object"||!r.RTCPeerConnection)){if("getLocalStreams"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in r.RTCPeerConnection.prototype)){var o=r.RTCPeerConnection.prototype.addTrack;r.RTCPeerConnection.prototype.addStream=function(a){var c=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(a)||this._localStreams.push(a),a.getAudioTracks().forEach(function(f){return o.call(c,f,a)}),a.getVideoTracks().forEach(function(f){return o.call(c,f,a)})},r.RTCPeerConnection.prototype.addTrack=function(a){for(var c=this,f=arguments.length,m=new Array(f>1?f-1:0),y=1;y<f;y++)m[y-1]=arguments[y];return m&&m.forEach(function(v){c._localStreams?c._localStreams.includes(v)||c._localStreams.push(v):c._localStreams=[v]}),o.apply(this,arguments)}}"removeStream"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.removeStream=function(a){var c=this;this._localStreams||(this._localStreams=[]);var f=this._localStreams.indexOf(a);if(f!==-1){this._localStreams.splice(f,1);var m=a.getTracks();this.getSenders().forEach(function(y){m.includes(y.track)&&c.removeTrack(y)})}})}}function qi(r){if(!(_e(r)!=="object"||!r.RTCPeerConnection)&&("getRemoteStreams"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in r.RTCPeerConnection.prototype))){Object.defineProperty(r.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(a){var c=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=a),this.addEventListener("track",this._onaddstreampoly=function(f){f.streams.forEach(function(m){if(c._remoteStreams||(c._remoteStreams=[]),!c._remoteStreams.includes(m)){c._remoteStreams.push(m);var y=new Event("addstream");y.stream=m,c.dispatchEvent(y)}})})}});var o=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(){var a=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(c){c.streams.forEach(function(f){if(a._remoteStreams||(a._remoteStreams=[]),!(a._remoteStreams.indexOf(f)>=0)){a._remoteStreams.push(f);var m=new Event("addstream");m.stream=f,a.dispatchEvent(m)}})}),o.apply(a,arguments)}}}function Li(r){if(!(_e(r)!=="object"||!r.RTCPeerConnection)){var o=r.RTCPeerConnection.prototype,a=o.createOffer,c=o.createAnswer,f=o.setLocalDescription,m=o.setRemoteDescription,y=o.addIceCandidate;o.createOffer=function(p,g){var _=arguments.length>=2?arguments[2]:arguments[0],C=a.apply(this,[_]);return g?(C.then(p,g),Promise.resolve()):C},o.createAnswer=function(p,g){var _=arguments.length>=2?arguments[2]:arguments[0],C=c.apply(this,[_]);return g?(C.then(p,g),Promise.resolve()):C};var v=function(p,g,_){var C=f.apply(this,[p]);return _?(C.then(g,_),Promise.resolve()):C};o.setLocalDescription=v,v=function(p,g,_){var C=m.apply(this,[p]);return _?(C.then(g,_),Promise.resolve()):C},o.setRemoteDescription=v,v=function(p,g,_){var C=y.apply(this,[p]);return _?(C.then(g,_),Promise.resolve()):C},o.addIceCandidate=v}}function Ni(r){var o=r&&r.navigator;if(o.mediaDevices&&o.mediaDevices.getUserMedia){var a=o.mediaDevices,c=a.getUserMedia.bind(a);o.mediaDevices.getUserMedia=function(f){return c(pn(f))}}!o.getUserMedia&&o.mediaDevices&&o.mediaDevices.getUserMedia&&(o.getUserMedia=function(f,m,y){o.mediaDevices.getUserMedia(f).then(m,y)}.bind(o))}function pn(r){return r&&r.video!==void 0?Object.assign({},r,{video:dn.compactObject(r.video)}):r}function Qi(r){if(r.RTCPeerConnection){var o=r.RTCPeerConnection;r.RTCPeerConnection=function(a,c){if(a&&a.iceServers){for(var f=[],m=0;m<a.iceServers.length;m++){var y=a.iceServers[m];y.urls===void 0&&y.url?(dn.deprecated("RTCIceServer.url","RTCIceServer.urls"),y=JSON.parse(JSON.stringify(y)),y.urls=y.url,delete y.url,f.push(y)):f.push(a.iceServers[m])}a.iceServers=f}return new o(a,c)},r.RTCPeerConnection.prototype=o.prototype,"generateCertificate"in o&&Object.defineProperty(r.RTCPeerConnection,"generateCertificate",{get:function(){return o.generateCertificate}})}}function Gi(r){_e(r)==="object"&&r.RTCTrackEvent&&"receiver"in r.RTCTrackEvent.prototype&&!("transceiver"in r.RTCTrackEvent.prototype)&&Object.defineProperty(r.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Yi(r){var o=r.RTCPeerConnection.prototype.createOffer;r.RTCPeerConnection.prototype.createOffer=function(a){if(a){typeof a.offerToReceiveAudio<"u"&&(a.offerToReceiveAudio=!!a.offerToReceiveAudio);var c=this.getTransceivers().find(function(m){return m.receiver.track.kind==="audio"});a.offerToReceiveAudio===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):a.offerToReceiveAudio===!0&&!c&&this.addTransceiver("audio",{direction:"recvonly"}),typeof a.offerToReceiveVideo<"u"&&(a.offerToReceiveVideo=!!a.offerToReceiveVideo);var f=this.getTransceivers().find(function(m){return m.receiver.track.kind==="video"});a.offerToReceiveVideo===!1&&f?f.direction==="sendrecv"?f.setDirection?f.setDirection("sendonly"):f.direction="sendonly":f.direction==="recvonly"&&(f.setDirection?f.setDirection("inactive"):f.direction="inactive"):a.offerToReceiveVideo===!0&&!f&&this.addTransceiver("video",{direction:"recvonly"})}return o.apply(this,arguments)}}function Ji(r){_e(r)!=="object"||r.AudioContext||(r.AudioContext=r.webkitAudioContext)}const Ki=r=>{let o=!1,a;return(...c)=>(o||(a=r(c),o=!0),a)};function ge(r,o){if(r===!1)throw new Error(o!=null?o:"assertion failure")}const Xi=Ki(()=>{const r=_i(window);switch(r.browser){case"chrome":Ri(window,r);break;case"firefox":Vi(window,r);break;case"safari":Wi(window,r);break;default:throw new rn}});let ke=Promise.resolve({type:"stop",data:{}});async function Br(r,o,a){var c,f,m;if(window.isSecureContext!==!0)throw new gi;if(((c=navigator==null?void 0:navigator.mediaDevices)==null?void 0:c.getUserMedia)===void 0)throw new rn;Xi();const y=await navigator.mediaDevices.getUserMedia({audio:!1,video:o});r.srcObject!==void 0?r.srcObject=y:r.mozSrcObject!==void 0?r.mozSrcObject=y:window.URL.createObjectURL?r.src=window.URL.createObjectURL(y):window.webkitURL?r.src=window.webkitURL.createObjectURL(y):r.src=y.id,r.play(),await Promise.race([tn(r,"loadeddata"),Vr(3e3).then(()=>{throw new wi})]),await Vr(500);const[v]=y.getVideoTracks(),p=(m=(f=v==null?void 0:v.getCapabilities)==null?void 0:f.call(v))!=null?m:{};let g=!1;return a&&p.torch&&(await v.applyConstraints({advanced:[{torch:!0}]}),g=!0),{type:"start",data:{videoEl:r,stream:y,capabilities:p,constraints:o,isTorchOn:g}}}async function Zi(r,{constraints:o,torch:a,restart:c=!1}){ke=ke.then(m=>{if(m.type==="start"){const{data:{videoEl:y,stream:v,constraints:p,isTorchOn:g}}=m;return!c&&r===y&&o===p&&a===g?m:hn(y,v,g).then(()=>Br(r,o,a))}return Br(r,o,a)});const f=await ke;if(f.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");return f.data.capabilities}async function hn(r,o,a){r.src="",r.srcObject=null,r.load(),await tn(r,"error");for(const c of o.getTracks())a!=null||await c.applyConstraints({advanced:[{torch:!1}]}),o.removeTrack(c),c.stop();return{type:"stop",data:{}}}async function Ut(){if(ke=ke.then(r=>{if(r.type==="stop")return r;const{data:{videoEl:o,stream:a,isTorchOn:c}}=r;return hn(o,a,c)}),(await ke).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}const es=Wr({__name:"QrcodeStream",props:{constraints:{type:Object,default(){return{facingMode:"environment"}}},formats:{type:Array,default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function}},emits:["detect","camera-on","camera-off","error"],setup(r,{emit:o}){const a=r,c=Z(),f=Z(),m=Z(),y=Z(!1),v=Z(!1);Do(()=>{v.value=!0}),Mo(()=>{Ut()});const p=jt(()=>({torch:a.torch,constraints:a.constraints,shouldStream:v.value&&!a.paused}));Ft(p,async D=>{const W=m.value;ge(W!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const Y=c.value;ge(Y!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const Q=Y.getContext("2d");if(ge(Q!==null,"if cavnas is defined, canvas 2d context should also be non-null"),D.shouldStream)try{const I=await Zi(W,D);v.value?(y.value=!0,o("camera-on",I)):await Ut()}catch(I){o("error",I)}else Y.width=W.videoWidth,Y.height=W.videoHeight,Q.drawImage(W,0,0,W.videoWidth,W.videoHeight),Ut(),y.value=!1,o("camera-off")},{deep:!0});const{formats:g}=xo(a);Ft(g,D=>{v.value&&bi(D)});const _=jt(()=>p.value.shouldStream&&y.value);Ft(_,D=>{if(D){ge(c.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),C(c.value),ge(f.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),C(f.value);const W=()=>a.track===void 0?500:40;ge(m.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),Ci(m.value,{detectHandler:Y=>o("detect",Y),formats:a.formats,locateHandler:j,minDelay:W()})}});const C=D=>{const W=D.getContext("2d");ge(W!==null,"canvas 2d context should always be non-null"),W.clearRect(0,0,D.width,D.height)},j=D=>{const W=f.value;ge(W!==void 0,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const Y=m.value;if(ge(Y!==void 0,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),D.length===0||a.track===void 0)C(W);else{const Q=Y.offsetWidth,I=Y.offsetHeight,Pe=Y.videoWidth,Ee=Y.videoHeight,je=Math.max(Q/Pe,I/Ee),Fe=Pe*je,Ve=Ee*je,Qe=Fe/Pe,vt=Ve/Ee,yt=(Q-Fe)/2,gt=(I-Ve)/2,Ue=({x:oe,y:le})=>({x:Math.floor(oe*Qe),y:Math.floor(le*vt)}),Ge=({x:oe,y:le})=>({x:Math.floor(oe+yt),y:Math.floor(le+gt)}),wt=D.map(oe=>{const{boundingBox:le,cornerPoints:bt}=oe,{x:Ae,y:Ct}=Ge(Ue({x:le.x,y:le.y})),{x:Ye,y:de}=Ue({x:le.width,y:le.height});return{...oe,cornerPoints:bt.map(Je=>Ge(Ue(Je))),boundingBox:DOMRectReadOnly.fromRect({x:Ae,y:Ct,width:Ye,height:de})}});W.width=Y.offsetWidth,W.height=Y.offsetHeight;const ue=W.getContext("2d");a.track(wt,ue)}},O={width:"100%",height:"100%",position:"relative","z-index":"0"},A={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},B={width:"100%",height:"100%","object-fit":"cover"},q=jt(()=>_.value?B:{...B,visibility:"hidden",position:"absolute"});return(D,W)=>(ee(),ae("div",{style:O},[U("video",{ref_key:"videoRef",ref:m,style:Ro(q.value),autoplay:"",muted:"",playsinline:""},null,4),ko(U("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:c,style:B},null,512),[[jo,!_.value]]),U("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:f,style:A},null,512),U("div",{style:A},[Fo(D.$slots,"default")])]))}});const ts=Wr({name:"FilterBar",components:{QrcodeStream:es},setup(){const r=Z(o());function o(){const D=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),W=window.innerWidth<768;return D||W}window.addEventListener("resize",()=>{r.value=o()}),qo();const a=Vo(),c=Z(a.name),f=Go(),m=Z(null),y=Z(!1),v=Z({"assets-page":[{label:"Categoria",key:"category",inputModel:"",inputOptions:"",boxModel:!1,isActive:!1},{label:"Fabricante",key:"manufacturer",inputModel:"",inputOptions:"",boxModel:!1,isActive:!1},{label:"Modelo",key:"model",inputModel:"",inputOptions:"",boxModel:!1,isActive:!1},{label:"Ubicacion",key:"location",inputModel:"",inputOptions:"",boxModel:!1,isActive:!1},{label:"Estado",key:"status",inputModel:"",inputOptions:"",boxModel:!1,isActive:!1}],"categories-page":[{label:"Nombre",key:"name",inputModel:"",inputOptions:"",boxModel:!1,isActive:!1},{label:"Propiedades",key:"properties",inputModel:"",inputOptions:"",boxModel:!1,isActive:!1}]}),p=Z(null),g=Jo(),_=Z(),C=Z(!1);g.getView?_.value={...g.getView}:_.value={details:!0,content:!1};const j=Z(!1),O=Z(!1),A=Z(""),B=Z({}),q=Z(!1);return{isMobile:r,router:a,actualRoute:c,isFiltering:y,filterDictionary:v,inputSearchBar:p,dataApiStore:f,dataApi:m,viewStore:g,viewDictionary:_,isViewActive:C,dialogScanQR:j,dialogQrResult:O,labelErrorQR:A,assetFounded:B,camReady:q}},methods:{updateView(r){Object.keys(this.viewDictionary).map(o=>{r!==o?this.viewDictionary[o]=!1:this.viewDictionary[o]=!0}),this.viewStore.setView(this.viewDictionary),this.$emit("updateView")},defineFilterOptions(r){if(this.dataApi!=null){const a=this.dataApi.map(m=>m[r]);if(r==="properties"){const m=a.flatMap(p=>p.flatMap(g=>Object.keys(g).map(_=>{if(_==="name")return g[_]}).filter(_=>_!==void 0)));return[...new Set(m)].filter(p=>p!==void 0)}return[...new Set(a)].filter(m=>m!==void 0)}this.dataApi=this.dataApiStore.getDataApi,this.defineFilterOptions(r)},updateFiltering(r=null,o=null){const a=this.filterDictionary[this.actualRoute];if(this.isFiltering=a.some(c=>c.inputModel),r!=null&&o!=null){if(o==="properties")return this.updatePropertiesFilters(r);const c=this.dataApi.filter(f=>f[o]===a[r].inputModel);return c.length>0?(this.dataApiStore.setDataApi(c),this.$emit("reloadData")):(this.dataApiStore.setDataApi(this.dataApi),this.$emit("reloadData"))}},updatePropertiesFilters(r){const a=this.filterDictionary[this.actualRoute][r].inputModel;if(!a)return this.dataApiStore.setDataApi(this.dataApi),this.$emit("reloadData");const c=this.dataApi.filter(f=>f.properties.some(m=>m.name===a));if(c.length>0)this.dataApiStore.setDataApi(c),this.$emit("reloadData");else return this.dataApiStore.setDataApi(this.dataApi),this.$emit("reloadData")},getDataBySearchBar(){if(this.dataApi!=null){if(this.inputSearchBar==null||this.inputSearchBar=="")return this.dataApiStore.setDataApi(this.dataApi),this.$emit("reloadData");const r=this.dataApi.filter(o=>Object.values(o).some(a=>String(a).includes(this.inputSearchBar)));this.dataApiStore.setDataApi(r),this.$emit("reloadData")}else this.dataApi=this.dataApiStore.getDataApi,this.getDataBySearchBar()},redirectToAsset(r){this.$router.push({path:`./inventario/${r}`})},onDecode(r){const a=r[0].rawValue;this.assetFounded=null,Yo.get(`./assets/${a}`).then(c=>{const f=c.data;f?(this.assetFounded={id:a,label:f.description},this.$q.notify({type:"positive",message:"Producto encontrado.",timeout:2e3})):this.$q.notify({type:"negative",message:"No se encontro informacion del producto.",timeout:2e3})}).catch(c=>{console.log(c),this.$q.notify({type:"negative",message:"No se encontro el producto.",timeout:2e3})})}},onError(r){return console.log(r),r.name==="NotAllowedError"?this.labelErrorQR="Necesitas aceptar los permisos para acceder a la camara":r.name==="NotFoundError"?this.labelErrorQR="No se encontro una camara en este dispositivo":r.name==="NotSupportedError"?this.labelErrorQR="Contexto seguro requerido (HTTPS, localhost)":r.name==="NotReadableError"?this.labelErrorQR="La camara ya esta en uso":r.name==="OverconstrainedError"?this.labelErrorQR="La camara no es adecuada":r.name==="StreamApiNotSupportedError"?this.labelErrorQR="La funcion no esta disponible en tu navegador":r.name==="InsecureContextError"?this.labelErrorQR="El acceso a la camara solo esta permetido en un contexto seguro (HTTPS, localhost)":this.labelErrorQR="Ha ocurrido un error."}}),rs={class:"bg-grey-2 q-pa-sm"},ns={key:0},as={class:"flex justify-between"},os={class:"row no-wrap q-pa-md"},is={class:"column"},ss=U("div",{class:"text-h6 q-mb-md"},"Filtros",-1),ls={key:0,class:"q-pl-sm q-pb-md"},cs={class:"row no-wrap q-pa-md"},us={class:"column"},ds=U("div",{class:"text-h6 q-mb-md"},"Vista",-1),fs={class:"flex"},ps=U("div",{class:"full-width q-pb-sm"},"Detalles",-1),hs={class:"flex q-pt-md"},ms=U("div",{class:"full-width"},"Contenido",-1),vs={key:1,class:"row"},ys={class:"col-12 col-sm-6 col-md-6 flex"},gs={class:"col-12 col-sm-6 col-md-6 flex justify-end"},ws={class:"row no-wrap q-pa-md"},bs={class:"column"},Cs=U("div",{class:"text-h6 q-mb-md"},"Filtros",-1),_s={key:0,class:"q-pl-sm q-pb-md"},Ss={class:"row no-wrap q-pa-md"},$s={class:"column"},Ts=U("div",{class:"text-h6 q-mb-md"},"Vista",-1),Ps={class:"flex"},Es=U("div",{class:"full-width q-pb-sm"},"Detalles",-1),As={class:"flex q-pt-md"},Os=U("div",{class:"full-width"},"Contenido",-1),Ds=U("div",{class:"text-h5 text-weight-medium"},"Buscar por codigo QR",-1),Ms=U("div",{class:"text-subtitle2 text-weight-regular"},"Escanea el codigo QR para encontrar la informacion un producto. ",-1),xs={key:0,class:"q-pa-lg flex justify-center items-center text-center"},Rs=U("div",{class:"full-width color-red text-h6",style:{"font-weight":"500"}},"Error",-1),ks={class:"full-width"},js={key:1,class:"flex justify-center items-center q-ma-md"},Fs=U("div",{class:"q-px-md"},"Buscando camara",-1),Vs={key:2,style:{position:"absolute",background:"white",bottom:"48px","border-radius":"0 10px 10px 0"}};function Us(r,o,a,c,f,m){const y=Io("QrcodeStream");return ee(),ae("div",rs,[r.isMobile?(ee(),ae("div",ns,[U("div",as,[E(pt,{modelValue:r.inputSearchBar,"onUpdate:modelValue":o[0]||(o[0]=v=>r.inputSearchBar=v),dense:"",outlined:"",label:"Buscador",style:{width:"70%"},onKeyup:o[1]||(o[1]=v=>r.getDataBySearchBar())},{append:N(()=>[E(ve,{name:"search",color:"black"})]),_:1},8,["modelValue"]),E(ft,{size:"13px",icon:"menu",flat:"","hide-dropdown-icon":""},{default:N(()=>[E(Wo,{class:"justify-center q-py-sm"},{default:N(()=>[r.actualRoute==="assets-page"?(ee(),dt(Vt,{key:0},{default:N(()=>[E(Le,{flat:"",size:"0.8rem",label:"Buscar por QR",icon:"qr_code_scanner",class:"q-ma-xs full-width",style:{"text-transform":"none","align-items":"start"},onClick:o[2]||(o[2]=v=>r.dialogScanQR=!0)})]),_:1})):ye("",!0),E(Vt,null,{default:N(()=>[E(Le,{label:"Filtrar",size:"0.8rem","text-color":r.isFiltering?"primary":"",icon:r.isFiltering?"filter_alt":"filter_list",flat:"",class:"q-ma-xs full-width","content-style":"height: 400px;",style:{"text-transform":"none","align-items":"start"}},{default:N(()=>[U("div",os,[U("div",is,[ss,E(pt,{class:"q-pb-md",dense:"",borderless:"",label:"Buscar filtros"},{append:N(()=>[E(ve,{name:"search",color:"black"})]),_:1}),(ee(!0),ae(Tr,null,Pr(r.filterDictionary[r.actualRoute],(v,p)=>(ee(),ae("div",{key:p+1,class:"column"},[E(Me,{modelValue:v.boxModel,"onUpdate:modelValue":g=>v.boxModel=g,size:"xs",label:v.label,"checked-icon":"add","unchecked-icon":"horizontal_rule","indeterminate-icon":"horizontal_rule",color:v.boxModel?"primary":"black",onClick:g=>(v.boxModel===!0?v.boxModel=!0:v.boxModel=!1,r.updateFiltering())},null,8,["modelValue","onUpdate:modelValue","label","color","onClick"]),v.boxModel?(ee(),ae("div",ls,[E(Ar,{modelValue:v.inputModel,"onUpdate:modelValue":[g=>v.inputModel=g,()=>r.updateFiltering(p,v.key)],options:r.defineFilterOptions(v.key),dense:"",outlined:"",clearable:"",class:"q-px-md","input-style":"font-weight: 500;"},null,8,["modelValue","onUpdate:modelValue","options"])])):ye("",!0)]))),128))])])]),_:1},8,["text-color","icon"])]),_:1}),r.actualRoute==="assets-page"?(ee(),dt(Vt,{key:1},{default:N(()=>[E(Le,{label:"Vista",size:"0.8rem",icon:"tune",flat:"",class:"q-ma-xs full-width",style:{"text-transform":"none","align-items":"start"}},{default:N(()=>[U("div",cs,[U("div",us,[ds,U("div",fs,[ps,E(Me,{modelValue:r.viewDictionary.details,"onUpdate:modelValue":o[3]||(o[3]=v=>r.viewDictionary.details=v),onClick:o[4]||(o[4]=v=>r.updateView("details")),size:"xs"},null,8,["modelValue"]),E(ve,{name:"density_small",size:"50px"})]),U("div",hs,[ms,E(Me,{modelValue:r.viewDictionary.content,"onUpdate:modelValue":o[5]||(o[5]=v=>r.viewDictionary.content=v),onClick:o[6]||(o[6]=v=>r.updateView("content")),size:"xs"},null,8,["modelValue"]),E(ve,{name:"view_list",size:"50px"})])])])]),_:1})]),_:1})):ye("",!0)]),_:1})]),_:1})])])):(ee(),ae("div",vs,[U("div",ys,[E(pt,{modelValue:r.inputSearchBar,"onUpdate:modelValue":o[7]||(o[7]=v=>r.inputSearchBar=v),dense:"",outlined:"",label:"Buscador",style:{width:"70%"},onKeyup:o[8]||(o[8]=v=>r.getDataBySearchBar())},{append:N(()=>[E(ve,{name:"search",color:"black"})]),_:1},8,["modelValue"]),r.actualRoute==="assets-page"?(ee(),dt(ft,{key:0,class:"q-mx-sm",flat:"",size:"14px",icon:"qr_code_scanner",onClick:o[9]||(o[9]=v=>r.dialogScanQR=!0)},{default:N(()=>[E(Or,{class:"bg-black",style:{"font-size":"0.75rem"}},{default:N(()=>[Er("Buscar por QR")]),_:1})]),_:1})):ye("",!0)]),U("div",gs,[E(Ho,{flat:""},{default:N(()=>[E(Le,{size:"14px",label:"Filtros","text-color":r.isFiltering?"primary":"",icon:r.isFiltering?"filter_alt":"filter_list",flat:"",rounded:"",style:{"text-transform":"capitalize"},"content-style":"height: 400px;"},{default:N(()=>[U("div",ws,[U("div",bs,[Cs,E(pt,{class:"q-pb-md",dense:"",borderless:"",label:"Buscar filtros"},{append:N(()=>[E(ve,{name:"search",color:"black"})]),_:1}),(ee(!0),ae(Tr,null,Pr(r.filterDictionary[r.actualRoute],(v,p)=>(ee(),ae("div",{key:p+1,class:"column"},[E(Me,{modelValue:v.boxModel,"onUpdate:modelValue":g=>v.boxModel=g,size:"xs",label:v.label,"checked-icon":"add","unchecked-icon":"horizontal_rule","indeterminate-icon":"horizontal_rule",color:v.boxModel?"primary":"black",onClick:g=>(v.boxModel===!0?v.boxModel=!0:v.boxModel=!1,r.updateFiltering())},null,8,["modelValue","onUpdate:modelValue","label","color","onClick"]),v.boxModel?(ee(),ae("div",_s,[E(Ar,{modelValue:v.inputModel,"onUpdate:modelValue":[g=>v.inputModel=g,()=>r.updateFiltering(p,v.key)],options:r.defineFilterOptions(v.key),dense:"",outlined:"",clearable:"",class:"q-px-md","input-style":"font-weight: 500;"},null,8,["modelValue","onUpdate:modelValue","options"])])):ye("",!0)]))),128))])])]),_:1},8,["text-color","icon"]),r.actualRoute==="assets-page"?(ee(),dt(Le,{key:0,size:"14px",label:"Vista",icon:"tune",color:r.isViewActive?"primary":"black",flat:"",rounded:"",style:{"text-transform":"capitalize"}},{default:N(()=>[U("div",Ss,[U("div",$s,[Ts,U("div",Ps,[Es,E(Me,{modelValue:r.viewDictionary.details,"onUpdate:modelValue":o[10]||(o[10]=v=>r.viewDictionary.details=v),onClick:o[11]||(o[11]=v=>r.updateView("details")),size:"xs"},null,8,["modelValue"]),E(ve,{name:"density_small",size:"50px"})]),U("div",As,[Os,E(Me,{modelValue:r.viewDictionary.content,"onUpdate:modelValue":o[12]||(o[12]=v=>r.viewDictionary.content=v),onClick:o[13]||(o[13]=v=>r.updateView("content")),size:"xs"},null,8,["modelValue"]),E(ve,{name:"view_list",size:"50px"})])])])]),_:1},8,["color"])):ye("",!0)]),_:1})])])),E(zo,{modelValue:r.dialogScanQR,"onUpdate:modelValue":o[17]||(o[17]=v=>r.dialogScanQR=v),persistent:"",transparent:""},{default:N(()=>[E(No,{class:"q-pa-md",style:{width:"600px","max-width":"85vw","max-height":"70vh",overflow:"hidden"}},{default:N(()=>[E(Lo,{align:"right",class:"q-py-none"},{default:N(()=>[E(ft,{icon:"close",color:"black",flat:"",round:"",onClick:o[14]||(o[14]=v=>(r.dialogScanQR=!1,r.camReady=!1)),class:"q-py-none"})]),_:1}),E(Dr,{class:"q-pt-none q-pb-sm"},{default:N(()=>[Ds,Ms]),_:1}),E(Dr,{style:{position:"relative"}},{default:N(()=>[r.labelErrorQR?(ee(),ae("div",xs,[E(ve,{class:"q-ma-md",name:"error",size:"64px",color:"red"}),Rs,U("div",ks,Bo(r.labelErrorQR),1)])):ye("",!0),r.camReady?ye("",!0):(ee(),ae("div",js,[Fs,E(Qo,{color:"primary",size:"2em"})])),E(y,{onCameraOn:o[15]||(o[15]=v=>r.camReady=!0),onDetect:r.onDecode,onError:r.onError,class:"qr-video"},null,8,["onDetect","onError"]),Object.keys(r.assetFounded).length>0?(ee(),ae("div",Vs,[E(ft,{label:r.assetFounded.label,"icon-right":"navigate_next",size:"14px",flat:"",style:{"text-transform":"capitalize","font-weight":"normal"},onClick:o[16]||(o[16]=v=>r.redirectToAsset(r.assetFounded.id))},{default:N(()=>[E(Or,{class:"bg-black",style:{"font-size":"0.75rem"}},{default:N(()=>[Er("Ver mas informacion")]),_:1})]),_:1},8,["label"])])):ye("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var Ks=Uo(ts,[["render",Us]]);export{Ks as F,Jo as u};
